<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üìù Or√ßamento/ordem de Serv.</title>
  <link rel="shortcut icon" href="../src/rd_logo_capacete_png.png" type="image/x-icon">
    <meta property="og:title" content="R.D- Reparos a Domic√≠lio!">
    <meta name="description" content="R.D ‚Äì Reparos a Domic√≠lio. Solu√ß√µes pr√°ticas, r√°pidas e confi√°veis para sua casa, loja, escrit√≥rio ou empresa. Atendemos em Itanha√©m-SP e regi√£o.">
    <meta property="og:image" content="https://rd-reparos-domicilio.netlify.app/src/logomt.png">
    <meta property="og:url" content="https://rd-reparos-domicilio.netlify.app">
    <meta property="og:type" content="website">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.min.css">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="https://kit.fontawesome.com/60de48ee9a.js" crossorigin="anonymous"></script>
    <script src="https://www.gstatic.com/firebasejs/10.9.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.9.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.9.0/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.9.0/firebase-database-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.9.0/firebase-storage-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.9.0/firebase-messaging-compat.js"></script>
    <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@10/swiper-bundle.min.css">
    <script src="https://cdn.jsdelivr.net/npm/swiper@10/swiper-bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/FileSaver.js/2.0.5/FileSaver.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/inputmask/5.0.8/inputmask.min.js"></script>
     <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
     <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
     
    <link href="https://fonts.googleapis.com/css2?family=Poppins&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../css/orcaserv.css">

</head>
<body>
   
   <div id="divInit"></div>

    <div id="divGeral">
    
      <header>
         <div id="divHeader">
            <div id="head1">
              <h2>Or√ßamento</h2>  <i id="telaCheia" onclick="toggleFullScreen()" class="fa-solid fa-desktop"></i>  <button id="btnMenu" onclick="menu()" type=""> Menu</button>
            </div>
            <div id="head2">
                <h4  id="codigoCliente">0000000</h4> <button id="annalizeOr√ßar" onclick="AnnalizeOr√ßamento()" type=""> Annalize</button>
            </div>
         </div>
         </header>
         <a id="a_init" href="#" title="Inicio"></a>
            <a id="a_hedermeio" href="#header_list" title="Bot√µes"></a>
         <main>
         <div id="divBody">
            <div id="contrato">
              <h2>Or√ßamento/Contrato</h2>
            <div id="body1">
             
            <div id="dadosCliente">
             <h3>Dados do clientes</h3>
            <label id="nomeCliente" for="">Cliente</label><br>
            <label id="telCliente" for="">Tel:</label>  <i id="i_Tel" onclick="telCliente()" class="fa-brands fa-whatsapp"></i><br>
             <label id="cpfCliente" for="">CPF:</label><br><br>
              <h3>Endere√ßo</h3>
               <label id="rua" for="">Rua</label><br>
                 <label id="numero" for="">N¬∫</label><br>
                 <label id="bairro" for="">Bairro</label><br>
                  <label id="cidade" for="">Cidade</label><br>
                   <label id="estado" for="">Estado</label><br>
                    <label id="cep" for="">CEP</label><br>
                     <label  id="ref" for="">Ref</label><br>
                    </div>
                      <div id="divColab">
                     <h3>Dados do Prestador</h3>
                      <label id="nome_Clob" for="">Pretador</label><br>
                       <label id="RE_Clob" for="">N¬∫ de registro</label><br>
                        <label id="Tel_Clob" for="">Contato (WhatsApp)</label>  <i id="i_Tel" onclick="telPrestador()" class="fa-brands fa-whatsapp"></i><br>
                        <label onclick="verPrest()" id="VerPret" for="">Ver mais <i id="I_prest" class="fa-solid fa-eye"></i></label>
                   </div>
                   <img id="imgFinalize" src="../src/RDzinho.png" alt="">
               </div></div>
             <div id="body2">
             <h3 id="h3Servi">Servi√ßo de ...</h3>

             <div id="div_list">
               <div id="header_list">
                <button onclick="Or√ßarServ()"><i id="cadeado" class="fa-sharp-duotone fa-solid fa-lock"></i> Or√ßarmento </button>  <button onclick="list()">Lista de Or√ßamento</button>  <button onclick="finalizar()">Finalizar</button>
               </div>
               <div id="divOr√ßar">   
                <div id="divOr√ßarHeader">
                  <p>Digite a tar√©fa e o valor corespondente!</p>
                     <input id='inputTarefa' type='text' placeholder='Nova tarefa'>
                  <div id="or√ßarFlex">         
                   <input id='valorTarefa' onchange="addserv()" type='text' placeholder='R$ 000,00'> 
                     <button id="addMais" title="">Add‚úÖ  </button></div> </div>
              
                <div id="valorTotal">
                  <h3>Lista de Servi√ßos</h3>
                  <label for="">Valor total</label> <h2 id="h2ValorTotal" for="">R$ 00,00</h2> 
                </div>
               <div id="listaserv"></div>
               </div>
                 <br>
               <div id="divFinalizar">
                <h3>Contrato de presta√ß√£o de Servi√ßo</h3>
                <p></p>
                <div id="FinalInput">
                  <div id="divContratante">
                  <p>Contratante</p>
                  <label id="FinalnomeClie" for="">nome</label><br>
                  <label id="FinalCPFClie" for="">CPF Cliente</label>
                  <br><br>
                  <p onclick="TernosCont()">Termos de contrato</p>
                </div>
              </div>          
                  <a id="aPDF" href="../public/Contrato_RD_Reparos.pdf" download> Baixar Contrato em PDF
                  </a><br>
                    <input type="checkbox" id="aceite" name="aceite"> <label for="aceite">Eu aceito os termos contratuais e pol√≠tica de privacidade</label><br><br>
                     <button onclick="AceitarContrato()" >Aceitar/Ordem de Servi√ßo</button>
                       <br><br>
                       <button id="PDF_Final" onclick="finalizerOr√ßamento()">Salvar em PDF</button>
               </div></div>
               <a id="a_finalit" href="#aceite" title="a Finalizar"></a>
             </div>
            </div>
             </div>
                  
        </main>
        <footer id="footer1"></footer>
    </div>

 <script src="../JS/orcaserv.js"></script>
  
<script> 
async function gerarPDF() { 
   document.getElementById('imgFinalize').style.display='block';
  const { jsPDF } = window.jspdf; 
  const doc = new jsPDF("p", "mm", "a4");
   const pageWidth = doc.internal.pageSize.getWidth();
    const pageHeight = doc.internal.pageSize.getHeight();
     async function addDivToPDF(divId, addPage = false) { 
      const elemento = document.getElementById(divId); 
      const canvas = await html2canvas(elemento, { scale: 2 }); 
      const imgData = canvas.toDataURL("image/png"); 
      const imgWidth = pageWidth;
       const imgHeight = canvas.height * imgWidth / canvas.width; let heightLeft = imgHeight; 
       let position = 0; if (addPage) doc.addPage(); 
       // Quebra autom√°tica em v√°rias p√°ginas 
       while (heightLeft > 0) { doc.addImage(imgData, "PNG", 0, position, imgWidth, imgHeight);
        heightLeft -= pageHeight; position -= pageHeight; 
        if (heightLeft > 0) { doc.addPage(); 
        } } } 
        // Captura cada div
         await addDivToPDF("contrato"); await addDivToPDF("divOr√ßar", true);
          await addDivToPDF("divFinalizar", true);
           // Faz download 
           doc.save("Contrato_RD.pdf"); } </script>
 
  
</body>

</html>